<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Sistema de ConferÃªncia</title>
  <link rel="stylesheet" href="/src/css/style.css" />
</head>
<body>
  <div id="app-container">
    <header id="topbar">
      <h1>ConferÃªncia de Lotes</h1>
      <button id="helpBtn" title="Ajuda/Atalhos">?</button>
    </header>

    <section id="painel-controle">
      <input type="file" id="fileInput" accept=".xlsx" />
      <select id="rzSelect"></select>
      <div id="progresso">0 de 0 conferidos</div>
      <input type="text" id="codigoInput" placeholder="CÃ³digo do produto" />
      <div id="scanModeBox">
        <label>Scan:</label>
        <button id="scanManualBtn" type="button">Manual</button>
        <button id="scanAutoBtn" type="button">AutomÃ¡tico</button>
      </div>
      <button id="abrirCameraBtn" type="button">ðŸ“· Ler cÃ³digo</button>
      <input type="number" id="precoInput" placeholder="PreÃ§o ajustado" step="0.01" />
      <input type="text" id="obsInput" placeholder="ObservaÃ§Ã£o" />
      <div id="excedenteForm" style="display:none">
        <input type="text" id="exDescInput" placeholder="DescriÃ§Ã£o do produto" />
        <input type="number" id="exQtdInput" min="1" value="1" />
      </div>
      <button id="consultarBtn">Consultar</button>
      <button id="registrarBtn">Registrar</button>
      <button id="excedenteBtn" disabled>Registrar Excedente</button>
      <button id="finalizarBtn">Finalizar ConferÃªncia</button>
      <div id="consultaCard" class="card"></div>
    </section>

    <section id="resumos">
      <div id="resumoRZ"></div>
      <div id="resumoGeral"></div>
    </section>

    <section id="listas">
      <div class="lista-bloco" id="conferidosBloco">
        <header class="lista-header">
          <h2>Conferidos <span class="badge" id="conferidosCount">0</span></h2>
          <button class="lista-toggle" data-list="conferidos">Recolher</button>
        </header>
        <div class="lista-body" id="conferidosBody">
          <div class="lista-controles">
            <input class="lista-search" data-list="conferidos" placeholder="Buscar por SKU ou descriÃ§Ã£o" />
            <select class="lista-pagesize" data-list="conferidos">
              <option value="20">20</option>
              <option value="50" selected>50</option>
              <option value="100">100</option>
            </select>
          </div>
          <table><tbody id="conferidosTable"></tbody></table>
          <div class="pagination" id="conferidosPagination"></div>
        </div>
      </div>

      <div class="lista-bloco" id="faltantesBloco">
          <header class="lista-header">
            <h2>Faltantes <span class="badge" id="faltantesCount">0</span></h2>
            <button class="lista-toggle" data-list="faltantes">Recolher</button>
          </header>
          <div class="lista-body" id="faltantesBody">
            <div class="lista-controles">
              <input class="lista-search" data-list="faltantes" placeholder="Buscar por SKU ou descriÃ§Ã£o" />
              <select class="lista-pagesize" data-list="faltantes">
                <option value="20">20</option>
                <option value="50" selected>50</option>
                <option value="100">100</option>
              </select>
            </div>
            <table><tbody id="faltantesTable"></tbody></table>
            <div class="pagination" id="faltantesPagination"></div>
          </div>
      </div>

      <div class="lista-bloco" id="excedentesBloco">
        <header class="lista-header">
          <h2>Excedentes <span class="badge" id="excedentesCount">0</span></h2>
          <button class="lista-toggle" data-list="excedentes">Recolher</button>
        </header>
        <div class="lista-body" id="excedentesBody">
          <div class="lista-controles">
            <input class="lista-search" data-list="excedentes" placeholder="Buscar por SKU ou descriÃ§Ã£o" />
            <select class="lista-pagesize" data-list="excedentes">
              <option value="20">20</option>
              <option value="50" selected>50</option>
              <option value="100">100</option>
            </select>
          </div>
          <table>
            <thead>
              <tr>
                <th>SKU</th>
                <th>DescriÃ§Ã£o</th>
                <th>Qtd</th>
                <th>PreÃ§o MÃ©dio (R$)</th>
                <th>Valor Total (R$)</th>
              </tr>
            </thead>
            <tbody id="excedentesTable"></tbody>
          </table>
          <div class="pagination" id="excedentesPagination"></div>
        </div>
      </div>
    </section>

    <script type="module" src="/src/components/app.js"></script>
  </div>

  <div id="cameraModal" class="scan-modal hidden" aria-hidden="true">
    <div class="scan-box">
      <video id="videoPreview" autoplay playsinline muted></video>
      <div class="scan-actions">
        <span id="scanStatus">Pronto</span>
        <select id="cameraSelect" class="hidden"></select>
        <button id="toggleTorchBtn" class="hidden" type="button">Lanterna</button>
        <button id="fecharCameraBtn" type="button">Fechar</button>
      </div>
    </div>
  </div>
</body>
</html>
